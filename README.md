# Recruitment Backend API Documentation

## Overview
This is a Node.js/Express/Mongoose backend for a recruitment platform supporting two user roles: **Employer** and **Candidate**. Employers can post jobs and manage applications. Candidates can apply to jobs and manage their profiles.

---

## Setup
1. Clone the repository.
2. Install dependencies:
   ```powershell
   npm install
   ```
3. Create a `.env` file with:
   ```env
   PORT=5000
   MONGO_URI=your_mongodb_connection_string
   JWT_SECRET=your_jwt_secret
   ```
4. Start the server:
   ```powershell
   npm start
   ```

---

## API Endpoints

### Auth & User
- `POST /api/users/register` — Register as employer or candidate
- `POST /api/users/login` — Login and receive JWT
- `GET /api/users/verify?token=...` — Verify email
- `GET /api/users/me` — Get current user profile (auth required)
- `PUT /api/users/me` — Update profile (auth required)

### Jobs
- `GET /api/jobs` — List all jobs
- `GET /api/jobs/:id` — Get job by ID
- `POST /api/jobs` — Create job (employer only, auth required)
- `PUT /api/jobs/:id` — Update job (employer only, auth required)
- `DELETE /api/jobs/:id` — Delete job (employer only, auth required)
- `GET /api/jobs/employer/my` — List jobs posted by employer (auth required)

### Applications
- `POST /api/applications/apply` — Apply to a job (candidate only, auth required)
- `GET /api/applications/my` — List candidate's applications (candidate only, auth required)
- `GET /api/applications/job/:jobId` — List applications for a job (employer only, auth required)
- `PUT /api/applications/:id/status` — Update application status (employer only, auth required)

---

## Models
- **User**: name, email, password, role, company, website, skills, experience, resume, isVerified, etc.
- **Job**: title, description, requirements, location, salary, employer, status
- **Application**: candidate, job, coverLetter, resume, status

---

## Authentication
- JWT-based. Pass token in `Authorization: Bearer <token>` header.
- Role-based access enforced via middleware.

---

## Error Handling
- All errors return JSON: `{ error: "message" }`

---

## Security
- CORS enabled
- Passwords hashed with bcryptjs
- JWT secret required

---

## How to Use the API

### Register a User
```http
POST /api/users/register
Content-Type: application/json
{
  "name": "John Doe",
  "email": "john@example.com",
  "password": "yourpassword",
  "role": "employer" // or "candidate"
}
```

### Login
```http
POST /api/users/login
Content-Type: application/json
{
  "email": "john@example.com",
  "password": "yourpassword"
}
// Response: { token, user }
```

### Authenticated Requests
Add the JWT token to the `Authorization` header:
```
Authorization: Bearer <your_token>
```

### Create a Job (Employer Only)
```http
POST /api/jobs
Authorization: Bearer <token>
Content-Type: application/json
{
  "title": "Frontend Developer",
  "description": "Job description...",
  "requirements": ["React", "CSS"],
  "location": "Remote",
  "salary": "$1000/month"
}
```

### Apply to a Job (Candidate Only)
```http
POST /api/applications/apply
Authorization: Bearer <token>
Content-Type: application/json
{
  "jobId": "<job_id>",
  "coverLetter": "I am interested..."
}
```

### Get All Jobs
```http
GET /api/jobs
```

### Get Applications for a Job (Employer Only)
```http
GET /api/applications/job/<jobId>
Authorization: Bearer <token>
```

### Update Application Status (Employer Only)
```http
PUT /api/applications/<applicationId>/status
Authorization: Bearer <token>
Content-Type: application/json
{
  "status": "reviewed" // or "interview", "offered", "rejected"
}
```

---

## Notes
- Email verification and password reset are stubbed (add nodemailer for production).
- File upload for resumes can be added with Multer.
- Extend as needed for admin, search, etc.

---

## Author
- Generated by GitHub Copilot
